<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Contact Pro Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>

<div class="container">
    <div class="row col card shadow mx-auto my-5">
        <div class="col-10 card shadow mx-auto mt-3">
            <div class="card-header text-center bg-dark text-light mt-2">
                <h3>MODIFICATION D'UN CONTACT</h3>
            </div>
            <div class="card-content mt-3">
                <% if(message) { %>
                    <div id="erreur" class="alert alert-danger mt-3">
                            <%= message %>
                    </div>
                <% } %> 
                <form class="card-body" id="edit-car-form" method="post" action="/contact/edit/<%= contact._id %>">
                    <div class="mb-3">
                        <label for="lastName" class="form-label">Nom de famille :</label>
                        <input type="text" class="form-control" name="lastName" id="lastName" 
                        value="<%= contact.lastName %>"
                        placeholder=<%= contact.lastName %>>
                    </div>

                    <div class="mb-3">
                        <label for="firstName" class="form-label">Prénom :</label>
                        <input type="text" class="form-control" name="firstName" id="firstName" 
                        value="<%= contact.firstName %>"
                        placeholder=<%= contact.firstName %>">
                    </div>

                    <div class="mb-3">
                        <label for="company" class="form-label">Nom de l'entreprise :</label>
                        <input type="text" class="form-control" name="company" id="company" 
                        value="<%= contact.company %>"
                        placeholder=<%= contact.company %>>
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Adresse complète :</label>
                        <input type="text" class="form-control" name="address" id="address" 
                        value="<%= contact.address %>"
                        placeholder=<%= contact.address %>>
                    </div>

                    <div class="mb-3">
                        <label for="phone" class="form-label">Tel :</label>
                        <input type="text" class="form-control" name="phone" id="phone"  
                        pattern="^\d{10}$"
                        title="Veuillez entrer un numéro de téléphone composé de 10 chiffres sans espaces."
                        value="<%= contact.phone %>"
                        placeholder=<%= contact.phone %>>
                    </div>

                    <div class="mb-3">
                        <label for="email" class="form-label">Email :</label>
                        <input type="text" class="form-control" name="email" id="email" 
                        value="<%= contact.email %>"
                        placeholder=<%= contact.email %>>
                    </div>

                    <div class="mb-3">
                        <label for="sector" class="form-label">Secteur :</label>
                        <select  name="sector" id="sector" class="form-select">
                            <option value="Santé" <%= contact.sector === 'Santé' ? 'selected' : '' %>>Santé</option>
                            <option value="Industrie" <%= contact.sector === 'Industrie' ? 'selected' : '' %>>Industrie</option>
                            <option value="Informatique" <%= contact.sector === 'Informatique' ? 'selected' : '' %>>Informatique</option>
                            <option value="Education" <%= contact.sector === 'Education' ? 'selected' : '' %>>Education</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="status" class="form-label">Actif </label>
                        <input type="checkbox" name="actif" id="actif" <%= contact.actif ? 'checked' : '' %>>
                    </div>
                    
                    <div class="d-grid gap-2 col-6 mx-auto">
                        <button type="submit" id="edit-contact-submit" class="btn btn-dark btn-lg btn-block">MODIFIER</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
